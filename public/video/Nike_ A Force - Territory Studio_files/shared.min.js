function preloadImages(e,a){var s=e.length;0===s&&a();var t=0,r=function(){console.warn("Error occured preloading at least 1 image."),a()};jQuery(e).each(function(){jQuery("<img>").attr("src",this.url).appendTo("body").css("display","none").load(function(){if(++t===s)return void a()}).error(function(){r()})})}if("undefined"!=typeof ie_css){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0||navigator.userAgent.match(/Trident.*rv\:11\./)){var css=ie_css.style_string,head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style)}}if("undefined"!=typeof ts_required_images)if(void 0!==ts_required_images.images.start&&ts_required_images.images.start.length>0)if(1==ts_required_images.images.start.length){var imageUrl=ts_required_images.images.start[0].url;jQuery("<img />").attr("src",imageUrl).appendTo("body").css("display","none").on("load",function(){jQuery("body").removeClass("fade-black"),void 0!==ts_required_images.images.page?preloadImages(ts_required_images.images.page,function(){jQuery("body.archive.tax-ts_project-type").length>0||(jQuery("body.tax-ts_project-type .theme-page .project-archive-headers .header").addClass("on-tax-page"),jQuery("body").addClass("show-back-button"),jQuery("body").removeClass("doing-turbo"),jQuery("html").removeClass("doing-turbo"))}):jQuery("body").removeClass("fade-black")}).on("error",function(){jQuery("body").removeClass("fade-black"),preloadImages(ts_required_images.images.page,function(){jQuery("body.archive.tax-ts_project-type").length>0||(jQuery("body.tax-ts_project-type .theme-page .project-archive-headers .header").addClass("on-tax-page"),jQuery("body").addClass("show-back-button"),jQuery("body").removeClass("doing-turbo"),jQuery("html").removeClass("doing-turbo"))})})}else ts_required_images.images.start.length>1&&preloadImages(ts_required_images.images.start,function(){jQuery("body.page-template-homepage").addClass("homepage-loaded")});else void 0!==ts_required_images.images.page?(console.log("ts required images page"),preloadImages(ts_required_images.images.page,function(){jQuery("body").removeClass("fade-black"),jQuery("body").removeClass("doing-turbo"),jQuery("html").removeClass("doing-turbo"),jQuery("body").addClass("show-back-button")})):(jQuery("body").removeClass("fade-black"),jQuery("body").removeClass("doing-turbo"));else jQuery("body").removeClass("fade-black"),jQuery("body").removeClass("doing-turbo"),jQuery("body").addClass("show-back-button");"undefined"!=typeof homepage_menu&&void 0!==homepage_menu.number&&(jQuery("body.page-template-homepage").removeClass("homepage-menu-items-transitioned"),setTimeout(function(){jQuery("body.page-template-homepage").addClass("homepage-loaded")},250),setTimeout(function(){jQuery("body.page-template-homepage").addClass("homepage-menu-items-transitioned")},3e3));
//# sourceMappingURL=shared.min.js.map
